(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"1TD7":function(e,t){},L3kR:function(e,t,a){"use strict";var n=a("1TD7");a.n(n).a},Ni3o:function(e,t,a){"use strict";a.r(t);var n=a("QWI4"),i=a("vyXt"),o=a("n9cn"),r=a("H+s4"),l=a("RHfq"),s=(a("P6UB"),{name:"enterpriseList",components:{UxdPaging:i.a,noData:n.a,screen:o.default,detail:r.default},data:function(){return{loading:!1,tableData:[],total:10,pageInfo:{pageNo:1,pageSize:10},sortInfo:{sortName:"update_time",sortOrder:""},fileSearchParams:{},dialogVisible:!1,detailJson:{}}},mounted:function(){this._epidemicReportCompanyQuery()},created:function(){},watch:{pageInfo:{handler:function(e){this.pageInfo=e,this._epidemicReportCompanyQuery(this.fileSearchParams)}}},methods:{handleSort:function(e){this.sortInfo.sortName=e.prop,this.sortInfo.sortOrder="ascending"===e.order?"":"DESC",this.pageInfo.pageNo=1,this.pageInfo.pageSize=10,this._epidemicReportCompanyQuery(this.fileSearchParams)},_epidemicReportCompanyQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;t.loading=!0,l.a.epidemicReportCompanyQuery(Object.assign(e,t.sortInfo,t.pageInfo)).then(function(e){t.loading=!1,t.tableData=e.data.list,t.total=e.data.total})},doSearch:function(e){this.pageInfo.pageNo=1,this.pageInfo.pageSize=10,this.fileSearchParams=Object.assign({},e),this._epidemicReportCompanyQuery(e)},downLoadFiles:function(){var e=this;this.$confirm("确认导出企业信息？","确认信息",{distinguishCancelAndClose:!0,confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){l.a.downFiles(e.fileSearchParams,"企业信息","exportCompany")}).catch(function(t){e.$message({type:"info",message:"cancel"===t?"导出取消":"停留在当前页面"})})},openDetails:function(e){this.detailJson=e,this.dialogVisible=!0}}}),d=(a("L3kR"),a("KHd+")),p=Object(d.a)(s,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"enterprise-main-container list-main-container"},[a("section",{staticClass:"list-screen-container"},[a("screen",{ref:"screen",attrs:{"list-type":"enterprise"},on:{doSearch:e.doSearch}})],1),e._v(" "),a("section",{staticClass:"list-table-container"},[a("div",{staticClass:"list-title"},[e._v("\n      企业列表"),a("span",[e._v(e._s(e.total))])]),e._v(" "),a("div",{staticClass:"list-btns"},[a("el-row",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.downLoadFiles}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"enterprise-table list-table list-el-table",attrs:{data:e.tableData,height:"1000","header-row-class-name":"header","header-cell-class-name":"header-cell","default-sort":{prop:"update_time",order:"descending"}},on:{"sort-change":e.handleSort,"row-click":e.openDetails}},[a("el-table-column",{attrs:{prop:"sys_id",label:"数据来源"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[e._v(e._s(e._f("filterSysId")(n.sys_id)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"event_district",label:"区域","min-width":"90px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[e._v(e._s(e._f("filterTableInfo")(n.event_district)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"event_town",label:"镇","min-width":"90px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[e._v(e._s(e._f("filterTableInfo")(n.event_town)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"violative_company",label:"违规企业名称","min-width":"130px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[e._v(e._s(e._f("filterTableInfo")(n.violative_company)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"autonym",label:"是否实名","min-width":"130px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[e._v("\n            "+e._s(e._f("filterIsTrueName")(n.autonym))+"\n          ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"event_address",label:"事件发生地址","min-width":"130px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[e._v(e._s(e._f("filterTableInfo")(n.event_address)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"event_description",label:"事件详细说明","min-width":"230px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",{staticStyle:{"font-size":"90%"}},[e._v(e._s(e._f("filterTableInfo")(n.event_description)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",sortable:"","min-width":"200px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[e._v(e._s(e._f("filterDate")(n.create_time)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"reporter_name",label:"信息提供人姓名","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[e._v(e._s(e._f("filterTableInfo")(n.reporter_name)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"reporter_phone",label:"信息提供人手机号","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[e._v(e._s(e._f("filterTableInfo")(n.reporter_name)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"reporter_id_num",label:"信息提供人身份证","min-width":"200px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[e._v(e._s(e._f("filterTableInfo")(n.reporter_id_num)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"opinion",label:"处理结果","min-width":"200px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[e._v(e._s(e._f("filterTableInfo")(n.opinion)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"answer_time",label:"处理时间",sortable:"","min-width":"200px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[e._v(e._s(e._f("filterDate")(n.answer_time)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"update_time",label:"更新时间",sortable:"","min-width":"200px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[e._v(e._s(e._f("filterDate")(n.update_time)))])]}}])}),e._v(" "),a("template",{slot:"empty"},[a("no-data")],1)],2),e._v(" "),a("uxd-paging",{staticClass:"list-paging-container",attrs:{total:e.total,"page-info":e.pageInfo},on:{"update:pageInfo":function(t){e.pageInfo=t},"update:page-info":function(t){e.pageInfo=t}}})],1),e._v(" "),a("el-dialog",{attrs:{title:"详情",visible:e.dialogVisible,width:"95%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("detail",{attrs:{datalist:e.detailJson,"list-type":"enterprise"}})],1)],1)},[],!1,null,"167ffccd",null);t.default=p.exports}}]);